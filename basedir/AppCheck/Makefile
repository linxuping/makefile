#
# This file is generated by Weiyy at 2014.11.19
#

#全局定义

HOME =/home/test
LOG_PATH = ./log
LOG_NAME = AppstoreCheck
CC	= g++
#CFLAGS = -O2 -Wall -c
CFLAGS = -O0 -c -g
DEFINE = -DLOG_PATH="\"$(LOG_PATH)\"" -DLOG_NAME="\"$(LOG_NAME)\""
INCDIR = -I. -I./json -I./func -I/usr/include -I/usr/include/c++ -I../base/rabbitmq

LIBDIR = -L/usr/lib64/mysql 

##指定静态库
ARCHIVES = 
LIBS = -lrt -lpthread -lm -lmysqlclient -lrabbitmq
#DEBUG = -g -D_DEBUG
DEFINE += $(DEBUG)

#源文件->obj文件
HPPSRCS = $(wildcard ./*.h) $(wildcard ./*.hpp) $(wildcard func/*.hpp) $(wildcard func/*.h) $(wildcard json/*.hpp) $(wildcard json/*.h) $(wildcard ../base/rabbitmq/*.hpp) $(wildcard ../base/rabbitmq/*.h)
CPPSRCS = $(wildcard ../base/rabbitmq/*.cpp) $(wildcard ./*.cpp) $(wildcard func/*.cpp) $(wildcard json/*.cpp)
CSRCS	= $(wildcard ../base/rabbitmq/*.c) $(wildcard ./*.c) $(wildcard func/*.c) $(wildcard json/*.c)
#OBJS	= $(patsubst %.c,%.o,$(CSRCS)) $(patsubst %.cpp,%.o,$(CPPSRCS)) $(patsubst %.pc,%.o,$(PCSRCS)) $(patsubst %.cpp,%.o,$(CPPMSGSRCS))
OBJS	= $(patsubst %.cpp,%.o,$(CPPSRCS)) $(patsubst %.c,%.o,$(CSRCS))


#编译选项
C_COMPILE   = gcc $(CFLAGS) $(DEFINE) $(INCDIR) $(@D)/$(<F) -o $(@D)/$(@F)
C++_CPMPILE = $(CC) $(CFLAGS) $(DEFINE) $(INCDIR) $(@D)/$(<F) -o $(@D)/$(@F)

#连接选项
LINK = $(CC) -g -o $@ $(OBJS) $(LIBDIR) $(ARCHIVES) $(LIBS) $(ICELIB) $(ICELINK)

############################################
TARGET = AppstoreCheck
all : $(TARGET)
$(TARGET): $(OBJS) $(HPPSRCS)
	$(LINK)

%.o:%.c 
	$(C_COMPILE)
%.o:%.cpp 
	$(C++_CPMPILE)

clean:
	rm -f ${OBJS} $(TARGET)

